constant:
    steps: 1
    macros:
        marina_minus_scene:
            -
    yamls:

    sequence:

tasks:
    steps: 3
    macros:
        ocean_waves:
            -
        usv_wind_gazebo:
            -
        scene_macro:
            -
        gymkhana:
            -

    # For Gymkhana, also specify pinger positions here to generate yaml files
    # NOTE:
    # Position must be the same as pinger_x, pinger_y, pinger_z in the sequence
    # block below, otherwise behavior will be undefined. This is not enforced
    # in code and must be manually checked for now.
    yamls:
        0:
            position_1: [116, -278, -5]

    sequence:
        0:
            ocean_waves:
                - gain: 0.0
                  period: 8.0
                  scale: 2.6
            usv_wind_gazebo:
                - mean_vel: 0.0
                  var_gain: 0
                  var_time: 2
                  seed: 10
                  topic_wind_speed: "/vorc/debug/wind/speed"
                  topic_wind_direction: "/vorc/debug/wind/direction"
                  /**wind_objs: "
                  <wind_obj>
                    <name>cora</name>
                    <link_name>base_link</link_name>
                    <coeff_vector>.5 .5 .33</coeff_vector>
                  </wind_obj>"
            scene_macro:
                - /**fog: ""
                  /**ambient: "1 1 1 1"
            gymkhana:
                - namespace: "cora"
                  competition: "vorc"
                  nav_name: short_navigation_course_0
                  nav_uri: short_navigation_course0
                  nav_x: 60
                  nav_y: -362
                  obs_uri: obstacle_course
                  obs_x: 140
                  obs_y: -282
                  pinger_x: 116
                  pinger_y: -278
                  pinger_z: -5
                  running_duration: 60
                  /**wp_markers: "
                  <markers>
                    <scaling>0.2 0.2 2.0</scaling>
                    <height>0.5</height>
                  </markers>"
                  /**gates: "
                  <gate>
                    <left_marker>red_bound_0</left_marker>
                    <right_marker>green_bound_0</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_1</left_marker>
                    <right_marker>green_bound_1</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_2</left_marker>
                    <right_marker>green_bound_2</right_marker>
                  </gate>"
        # TODO(anyone): Tweak numbers to make sense for VORC
        1:
            ocean_waves:
                - gain: 0.3
                  period: 8.0
                  direction_x: 0.92
                  direction_y: 0.37
            usv_wind_gazebo:
                - mean_vel: 4.0
                  var_gain: 4
                  var_time: 10
                  seed: 10
                  topic_wind_speed: "/vorc/debug/wind/speed"
                  topic_wind_direction: "/vorc/debug/wind/direction"
                  /**wind_objs: "
                  <wind_obj>
                    <name>cora</name>
                    <link_name>base_link</link_name>
                    <coeff_vector>.5 .5 .33</coeff_vector>
                  </wind_obj>"
            scene_macro:
                - /**fog: ""
                  /**ambient: "0.9 0.9 0.9 1"
            gymkhana:
                - namespace: "cora"
                  competition: "vorc"
                  nav_name: vrx_navigation_course_1
                  nav_uri: navigation_course1
                  nav_x: 120
                  nav_y: 87
                  running_duration: 500
                  /**gates: "
                  <gate>
                    <left_marker>red_bound_0</left_marker>
                    <right_marker>green_bound_0</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_1</left_marker>
                    <right_marker>green_bound_1</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_2</left_marker>
                    <right_marker>green_bound_2</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_3</left_marker>
                    <right_marker>green_bound_3</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_4</left_marker>
                    <right_marker>green_bound_4</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_5</left_marker>
                    <right_marker>green_bound_5</right_marker>
                  </gate>"
                  /**wp_markers: "
                  <markers>
                    <scaling>0.2 0.2 2.0</scaling>
                    <height>0.5</height>
                  </markers>"
        # TODO(anyone): Tweak numbers to make sense for VORC
        2:
            ocean_waves:
                - gain: 0.7
                  period: 3
                  direction_x: 0.37
                  direction_y: -0.92
            usv_wind_gazebo:
                - mean_vel: 8.0
                  var_gain: 8
                  var_time: 12
                  seed: 10
                  direction: 143
                  topic_wind_speed: "/vorc/debug/wind/speed"
                  topic_wind_direction: "/vorc/debug/wind/direction"
                  /**wind_objs: "
                  <wind_obj>
                    <name>cora</name>
                    <link_name>base_link</link_name>
                    <coeff_vector>.5 .5 .33</coeff_vector>
                  </wind_obj>"
            scene_macro:
                - /**fog: "
                  <fog>
                    <type> linear</type>
                    <color> 0.7 0.7 0.7 1 </color>
                    <density> 0.0 </density>
                  </fog>"
                  /**ambient: "0.8 0.8 0.8 1"
            gymkhana:
                - namespace: "cora"
                  competition: "vorc"
                  nav_name: vrx_navigation_course_2
                  nav_uri: navigation_course2
                  nav_x: 120
                  nav_y: 87
                  running_duration: 600
                  /**gates: "
                  <gate>
                    <left_marker>red_bound_0</left_marker>
                    <right_marker>green_bound_0</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_1</left_marker>
                    <right_marker>green_bound_1</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_2</left_marker>
                    <right_marker>green_bound_2</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_3</left_marker>
                    <right_marker>green_bound_3</right_marker>
                  </gate>
                  <gate>
                    <left_marker>red_bound_4</left_marker>
                    <right_marker>green_bound_4</right_marker>
                  </gate>"
                  /**wp_markers: "
                  <markers>
                    <scaling>0.2 0.2 2.0</scaling>
                    <height>0.5</height>
                  </markers>"
